<!-- Trigger the modal with a button -->

<a href="#" class="link" data-toggle="modal" data-target="#myModal">
  <i class="fa fa-reply" aria-hidden="true"></i>
</a>


<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Reply to: <%= message.user.name%></h4>
      </div>
      <div class="modal-body">
        <%= form_for(@message) do |f| %>
          <% if @message.errors.any? %>
            <div id="error_explanation">
              <h2><%= pluralize(@message.errors.count, "error") %> prohibited this message from being saved:</h2>

              <ul>
              <% @message.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
              </ul>
            </div>
          <% end %>
          <%= f.hidden_field :receiver, value: message.user_id %>
          <div class="form-group">
            <%= f.text_field :subject, class: 'form-control', placeholder: 'Subject' %>
          </div>
          <div class="form-group">
            <%= f.text_area :body, class: 'form-control', placeholder: 'Message body', rows: "5"  %>
          </div>
          <div class="field">
            <%= f.submit "Send", class: 'btn btn-success btn-sm' %>
          </div>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
